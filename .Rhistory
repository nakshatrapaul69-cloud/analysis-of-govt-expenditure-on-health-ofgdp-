file.create("HELLO.R")
PRINT("HELLO WORLD")
PRINT("HELLO WORLD")
print("HELLO WORLD")
source("~/HELLO.R")
source("~/HELLO.R")
Naku
asghd
source("~/HELLO.R")
name<-readline("wtf is yr name")
name<-readline("wtf is yr name")
class()
source("~/HELLO.R")
?paste
source("~/HELLO.R")
source("~/HELLO.R")
source("~/HELLO.R")
source("~/HELLO.R")
print(paste("suck cock",readline("what is yr name")))
create.file(count.R)
file.create(count.R)
file.create(count.R)
file.create(count.r)
file.create(cou.R)
file.create("count.R")
source("~/count.R")
source("~/count.R")
source("~/count.R")
source("~/count.R")
source("~/count.R")
source("~/count.R")
source("~/count.R")
ls()
rm(list = ls())
ls()
file.create("tabulate.r")
read.table("sales.csv")
votes<-read.table("sales.csv")
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
votes<-read.csv("sales.csv")
votes<-read.csv("sales.csv")
View("sales.csv")
votes<-read.csv("sales.csv")
View("sales.csv")
votes<-read.csv("sales.csv")
votes<-read.csv("sales.csv")
source("~/tabulate.r")
votes<-read.csv("sales.csv")
View(votes)
votes[1,2]
votes<-read.csv("sales.csv")
View(votes)
votes$units_sold
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
votes<-read.csv("sales.csv")
sum(votes$price)
sums(votes$units_sold)
sum(votes$units_sold)
votes$units_sold*votes$price
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
source("~/tabulate.r")
write.csv(votes,"total_amt.csv",row.names=FALSE)
write.csv(votes,"total_amt.csv",row.names=FALSE)
votes$total_amt<-votes$units_sold*votes$price
setwd("E:/rdata")
file.create("expenditure_on_health_by_govt.%_on_gdp.R")
View(votes)
real_data<-read.csv("E:\rdata\HEALTH _DATA\API_SH.XPD.CHEX.GD.ZS_DS2_en_csv_v2_938.csv")
real_data<-read.csv("real_data.csv")
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
dta<-read.csv("E:\rdata\HEALTH _DATA\real_data.csv")
dta<-read.csv("E:/rdata/HEALTH _DATA/real_data.csv")
View(dta)
dta<-dta.drop(x1:x41)
dta<-dta|>
select(-1,-42)
dta<-dta|>
select(-X1,-X42)
dta<-dta|>
select(-X,-X.41)
dta<-read.csv("E:/rdata/HEALTH _DATA/real_data.csv")
dta<-dta|>
select(-X,-X.41)
library(dplyr)
library(tidyr)
library(ggplot2)
library(readr)
library(dplyr)
dta<-read.csv("E:/rdata/HEALTH _DATA/real_data.csv")
dta<-dta|>
select(-X,-X.41)
View(dta)
dta<-dta|>
select(-X.1:-X.40)
View(dta)
dta<-dta|>
select((-X.1:-X.40),-X.66)
dta <- dta |>
replace_na(list(dta==0))
dta <- dta |>
replace_na(list(dta==0))
View(dta)
dta <- dta |>
mutate(across(everything(), ~replace_na(.x, 0)))#"Take the dataset, then modify it across every column by replacing the NAs found in that specific column with a zero."
View(dta)
dta<-dta|>
slice(-(1:3))
View(dta)
dta <- dta |>
row_to_names(row_number = 1)
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
library(janitor)
library(janitor)
install.packages("janitor")
library(janitor)
library(janitor)
dta <- dta |>
row_to_names(row_number = 1)
View(dta)
#analysis
analysis_dta <- dta |>
mutate(target_goal = 5.0) |>
mutate(funding_gap = target_goal - health_exp_pct_gdp) |>
# Focus only on countries that have a gap
filter(funding_gap > 0)
#analysis
analysis_dta <- dta |>
mutate(target_goal = 5.0) |>
mutate(funding_gap = target_goal - health_exp_pct_gdp) |>
# Focus only on countries that have a gap
filter(funding_gap > 0)
#analysis
analysis_dta <- dta |>
mutate(target_goal = 5.0) |>
mutate(funding_gap = target_goal - health_exp_pct_gdp) |>
# Focus only on countries that have a gap
filter(funding_gap > 0)
#analysis
analysis_dta <- dta |>
mutate(target_goal = 5.0) |>
mutate(funding_gap = target_goal - dta) |>
# Focus only on countries that have a gap
filter(funding_gap > 0)
dta_long <- dta |>
pivot_longer(
cols = x1999:x2023, # Adjust this range to match your actual columns
names_to = "year",
values_to = "health_exp_pct_gdp"
) |>
View(dta)
View(dta)
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
dta_long <- dta |>
pivot_longer(
cols = 1999:2023, # Adjust this range to match your actual columns
names_to = "year",
values_to = "health_exp_pct_gdp"
)
View(dta)
dta<-dta|>
clean_names()
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
View(dta)
dta<-dta|>
select(-x1999)
View(dta)
# 2. Pivot using column numbers instead of names
# REPLACE 5 and 29 with the actual column positions of your first and last years
dta_long <- dta |>
pivot_longer(
cols = 5:28,
names_to = "year",
values_to = "health_exp_pct_gdp"
)
View(dta_long)
write.csv(dta, "E:/rdata/HEALTH_DATA/cleaned_health_data.csv", row.names = FALSE)
write.csv(dta, "E:\rdata\HEALTH_DATA\cleaned_health_data.csv", row.names = FALSE)
write.csv(dta, "E:\\rdata\HEALTH_DATA\\cleaned_health_data.csv", row.names = FALSE)
dta<-dta|>
select(-x1999)
write.csv(dta, "E:\\rdata\EALTH_DATA\\cleaned_health_data.csv", row.names = FALSE)
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
dta<-dta|>
select(-x1999)
View(dta)
write.csv(dta)
write.csv(dta,"E:\rdata\HEALTH _DATA")
write.csv(dta,"E:\rdata\HEALTH_DATA")
write.csv(dta,"E:\rdata\HEALTH_DATA\clean_dta.csv")
write.csv(dta,"E:/rdata/HEALTH_DATA/clean_dta.csv")
write.csv(dta,"E:/rdata/HEALTH _DATA/clean_dta.csv")
# Calculate the mean across all numeric columns for each row
dta <- dta |>
mutate(row_mean = rowMeans(across(where(is.numeric)), na.rm = TRUE))
View(dta)
dta <- dta |>
#  Convert zeros to NA (assuming 0 means "no data")
mutate(across(where(is.numeric), ~na_if(.x, 0))) |>
#  Process row-by-row
rowwise() |>
#  Calculate SD across numeric columns and add as new column
mutate(spending_volatility = sd(c_across(where(is.numeric)), na.rm = TRUE))
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
ggplot(dta, aes(x =row_mean)) +
geom_histogram(bins = 30, fill = "steelblue", color = "white") +
labs(title = "Distribution of Average Health Spending",
x = "Mean % of GDP",
y = "Frequency (Number of Countries)")
ggplot(dta, aes(x =country_code,
y=row_mean)) +
geom_histogram(bins = 30, fill = "steelblue", color = "white") +
labs(title = "Distribution of Average Health Spending",
x = "Mean % of GDP",
y = "Frequency (Number of Countries)")
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code,row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 25 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
# 1. Filter for the Top 25 countries (so the chart is readable)
plot_data <- dta |>
slice_max(mean_gdp_pct, n = 25)
# 1. Filter for the Top 25 countries (so the chart is readable)
plot_data <- dta |>
slice_max(row_mean, n = 25)
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code,row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 25 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
# 1. Filter for the Top 25 countries (so the chart is readable)
plot_data <- dta |>
slice_max(row_mean, n =5)
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code,row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 25 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code,row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 25 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
# 1. Filter for the Top 25 countries (so the chart is readable)
plot_data <- dta |>
slice_max(row_mean, n =5)
# 1. Filter for the Top 5 countries (so the chart is readable)
plot_data <- dta |>
slice_max(row_mean, n =5)
View(plot_data)
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code,row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
slice_max(row_mean, n =5)
slice_max(row_mean, n =5)
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code,row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
slice_max(row_mean, n =5)
# 1. Filter for the Top 5 countries (so the chart is readable)
plot_data <- dta |>
filter(!is.na(row_mean))|>
slice_max(row_mean, n =5)
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code,row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
# 1. Filter for the Top 5 countries (so the chart is readable)
plot_data <- dta |>
filter(!is.na(row_mean))|>
# Explicitly tell slice_max to order by row_mean
slice_max(order_by = row_mean, n = 5)
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_name, row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
# 2. Create the plot
ggplot(plot_data, aes(x = reorder(country_code, row_mean), y = row_mean)) +
geom_col(fill = "steelblue") + # Creates the bars
coord_flip() +                # Flips X and Y so names are on the left
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
# 1. Filter for the Top 5 countries (so the chart is readable)
plot_data <- dta |>
filter(!is.na(row_mean)) |>
slice_max(order_by = row_mean, n = 5)
# 2. CREATE THE PLOT - MAKE SURE IT USES 'plot_data'
ggplot(plot_data, aes(x = reorder(country_name, row_mean), y = row_mean)) +
geom_col(fill = "steelblue") +
coord_flip() +
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
# 1. Filter for the Top 5 countries (so the chart is readable)
plot_data <- dta |>
filter(!is.na(row_mean)) |>
slice_max(order_by = row_mean, n = 5,with_ties = FALSE)
# 1. Filter for the Top 5 countries (so the chart is readable)
# 1. Force the reduction to 5 rows and ensure data types
plot_data <- dta %>%
# Make sure row_mean is numeric
mutate(row_mean = as.numeric(row_mean)) %>%
# Remove NAs
filter(!is.na(row_mean)) %>%
# Force exactly 5 rows
slice_max(order_by = row_mean, n = 5, with_ties = FALSE)
# 1. Filter for the Top 5 countries (so the chart is readable)
# 1. Force the reduction to 5 rows and ensure data types
plot_data <- dta %>%
# Make sure row_mean is numeric
mutate(row_mean = as.numeric(row_mean)) %>%
# Remove NAs
filter(!is.na(row_mean)) %>%
# Force exactly 5 rows
slice_max(order_by = row_mean, n = 5, with_ties = FALSE)
# 1. Force the reduction to 5 rows and ensure data types
plot_data <- dta |>
ungroup() |>                         # <--- THIS IS THE MISSING KEY
filter(!is.na(row_mean)) |>
slice_max(order_by = row_mean, n = 5)
# 2. CREATE THE PLOT - MAKE SURE IT USES 'plot_data'
ggplot(plot_data, aes(x = reorder(country_name, row_mean), y = row_mean)) +
geom_col(fill = "steelblue") +
coord_flip() +
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
source("E:/rdata/expenditure_on_health_by_govt.%_on_gdp.R")
library(dplyr)
library(tidyr)
library(ggplot2)
library(readr)
library(janitor)
# --- 1. ROBUST DATA CLEANING ---
dta <- read.csv("E:/rdata/HEALTH _DATA/real_data.csv")
# Clean Names and remove garbage rows/columns first
dta <- dta |>
slice(-(1:3)) |>               # Remove first 3 rows
row_to_names(row_number = 1) |> # Promote header
clean_names() |>               # Standardize names
select(-matches("^x_"))        # Remove empty "x_" columns safely
# --- CRITICAL FIX: CONVERT TO NUMERIC ---
# row_to_names makes everything text. We must convert year columns to numbers.
dta <- dta |>
mutate(across(-country_name, ~as.numeric(as.character(.x)))) |>
# Now handle NAs: If NA, replace with 0 (only if that's your logic)
mutate(across(where(is.numeric), ~replace_na(.x, 0)))
# --- 2. ADVANCED METRICS (The PE Part) ---
analysis_dta <- dta |>
rowwise() |>
mutate(
# 1. Average Spending (The "Level")
avg_spend = mean(c_across(where(is.numeric)), na.rm = TRUE),
# 2. Volatility/Risk (The "Stability")
volatility = sd(c_across(where(is.numeric)), na.rm = TRUE),
# 3. CAGR (The "Growth Story")
# (Ending Value / Beginning Value)^(1/n) - 1
# Assuming col 2 is start (e.g., 2000) and last col is end (e.g., 2020)
start_val = pick(2)[[1]],
end_val = pick(last_col())[[1]],
# Handle zeros to avoid division by zero errors
cagr = ifelse(start_val > 0, (end_val / start_val)^(1/20) - 1, NA)
) |>
ungroup()
# --- 3. VISUALIZATION: THE INVESTMENT MATRIX ---
# Filter for meaningful data (e.g., avg spend > 1%)
plot_data <- analysis_dta |>
filter(avg_spend > 1, avg_spend < 15) # Remove extreme outliers
ggplot(plot_data, aes(x = volatility, y = avg_spend, label = country_name)) +
# The "Target Sector": High Spend, Low Volatility (Top Left)
geom_rect(aes(xmin=0, xmax=1, ymin=5, ymax=15), fill="#e6f5da", alpha=0.1) +
geom_point(aes(color = cagr), size = 3, alpha = 0.8) +
geom_text(check_overlap = TRUE, vjust = 1.5, size = 3) +
scale_color_gradient2(low = "red", mid = "gray", high = "green", midpoint = 0) +
labs(
title = "Healthcare Investment Matrix: Stability vs. Expenditure",
subtitle = "Green Box = High Value/Low Risk Targets. Color = Growth Rate (CAGR)",
x = "Volatility (Standard Deviation)",
y = "Average Expenditure (% of GDP)",
color = "Growth Rate"
) +
theme_minimal()
library(dplyr)
library(tidyr)
library(ggplot2)
library(readr)
library(janitor)
dta<-read.csv("E:/rdata/HEALTH _DATA/real_data.csv")
dta<-dta|>
select(-X.1:-X.40)#removes columns
dta <- dta |>
replace_na(list(dta==0))
dta <- dta |>
mutate(across(everything(), ~replace_na(.x, 0)))#"Take the dataset, then modify it across every column by replacing the NAs found in that specific column with a zero."
dta<-dta|>
slice(-(1:3))#removed rows
dta <- dta |>
row_to_names(row_number = 1)
dta<-dta|>
clean_names()
dta<-dta|>
select(-x1999)
write.csv(dta,"E:/rdata/HEALTH _DATA/clean_dta.csv")
dta <- dta |>
mutate(row_mean = rowMeans(across(where(is.numeric)), na.rm = TRUE))
dta <- dta |>
#  Convert zeros to NA (assuming 0 means "no data")
mutate(across(where(is.numeric), ~na_if(.x, 0))) |>
#  Process row-by-row
rowwise() |>
#  Calculate SD across numeric columns and add as new column
mutate(spending_volatility = sd(c_across(where(is.numeric)), na.rm = TRUE))
plot_data <- dta |>
ungroup() |>                         # <--- THIS IS THE MISSING KEY
filter(!is.na(row_mean)) |>
slice_max(order_by = row_mean, n = 5)
ggplot(plot_data, aes(x = reorder(country_name, row_mean), y = row_mean)) +
geom_col(fill = "steelblue") +
coord_flip() +
labs(
title = "Top 5 Countries by Healthcare Spending",
x = "Country",
y = "Mean Expenditure (% of GDP)"
) +
theme_minimal()
View(analysis_dta)
View(analysis_dta)
